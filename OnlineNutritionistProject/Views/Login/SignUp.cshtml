@model UserRegisterViewModel
@{
    Layout = null;
}

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Kayıt Ol</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="~/register/fonts/linearicons/style.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="~/register/css/style.css">
    <style>
        body {
            margin: 0;
            padding: 0;
        }

        .wrapper {
            position: relative;
        }

        .inner {
            position: relative;
            overflow: hidden;
            z-index: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }

        .image-2 {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: -1;
        }

        .modal-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        .divider {
            margin: 0 15px; 
            font-weight: bold;
            font-size: 1.2em;
        }

        .radio-group {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 10px 0;
        }

            .radio-group input {
                margin-right: 5px;
                margin-left: 20px;
            }

            .radio-group label {
                margin-left: 2px;
                margin-top: 8px;
                line-height: 1.5;
            }

        form {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 50px;
            padding: 40px 35px;
            box-shadow: 
                0 20px 40px rgba(0, 0, 0, 0.1),
                0 10px 20px rgba(0, 0, 0, 0.05),
                inset 0 2px 4px rgba(255, 255, 255, 0.8);
            border: 3px solid rgba(255, 255, 255, 0.3);
            max-width: 400px;
            width: 100%;
            position: relative;
            transform: perspective(1000px) rotateX(5deg);
        }

        form::before {
            content: '';
            position: absolute;
            bottom: -30px;
            left: 50%;
            transform: translateX(-50%);
            width: 90%;
            height: 20px;
            background: radial-gradient(ellipse, rgba(0, 0, 0, 0.1) 0%, transparent 70%);
            border-radius: 50%;
            z-index: -1;
        }

        h3 {
            text-align: center;
            margin-bottom: 15px;
            color: #2c5530;
            font-weight: bold;
            font-size: 24px;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        }

        hr {
            width: 60%;
            margin: 15px auto 25px;
            border: 1px solid #1db954;
            opacity: 0.3;
        }

        .form-holder {
            position: relative;
            margin-bottom: 20px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 25px;
            padding: 5px;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .form-holder input {
            border: none;
            background: transparent;
            padding: 12px 15px 12px 45px;
            border-radius: 20px;
            width: 100%;
            font-size: 14px;
        }

        .form-holder span.lnr {
            position: absolute;
            left: 15px;
            top: 55%;
            transform: translateY(-50%);
            color: #1db954;
            font-size: 16px;
        }

        .radio-group {
            background: rgba(255, 255, 255, 0.6);
            border-radius: 20px;
            padding: 10px 15px;
            margin: 15px 0;
        }

        button {
            background: linear-gradient(135deg, #1db954, #1ed760);
            border: none;
            border-radius: 25px;
            padding: 15px 30px;
            width: 100%;
            color: white;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(29, 185, 84, 0.3);
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(29, 185, 84, 0.4);
        }
    </style>
</head>

<body>
    <div class="wrapper">
        <div class="inner">
            <form action="" method="post">
                <h3>Kayıt Ol</h3>
                <hr /> 

                <div class="form-holder">
                    <span class="lnr lnr-user"></span>
                    <label asp-for="Name">Ad</label>
                    <input asp-for="Name" class="form-control" placeholder="Adınızı girin">
                    <span asp-validation-for="Name" class="text-danger"></span>
                </div>
                <div class="form-holder">
                    <span class="lnr lnr-user"></span>
                    <label asp-for="SurName">Soyad</label>
                    <input asp-for="SurName" class="form-control" placeholder="Soyadınızı girin">
                    <span asp-validation-for="SurName" class="text-danger"></span>
                </div>
                <div class="form-holder">
                    <span class="lnr lnr-user"></span>
                    <label asp-for="UserName">Kullanıcı Adı</label>
                    <input asp-for="UserName" class="form-control" placeholder="Kullanıcı adınızı girin">
                    <span asp-validation-for="UserName" class="text-danger"></span>
                </div>
                <div class="form-holder">
                    <span class="lnr lnr-envelope"></span>
                    <label asp-for="Email">E-posta</label>
                    <input asp-for="Email" class="form-control" placeholder="E-posta adresinizi girin">
                    <span asp-validation-for="Email" class="text-danger"></span>
                </div>
                <div class="form-holder">
                    <span class="lnr lnr-lock"></span>
                    <label asp-for="Password">Şifre</label>
                    <input type="password" asp-for="Password" class="form-control" placeholder="Şifrenizi girin">
                    <span asp-validation-for="Password" class="text-danger"></span>
                </div>
                <div class="form-holder">
                    <span class="lnr lnr-lock"></span>
                    <label asp-for="ConfirmPassword">Şifre Tekrar</label>
                    <input type="password" asp-for="ConfirmPassword" class="form-control" placeholder="Şifrenizi tekrar girin">
                    <span asp-validation-for="ConfirmPassword" class="text-danger"></span>
                </div>

                <!--Burada Categori seçimleri ve Nutrition id sini veritabanına kaydediyoruz-->
                <div class="form-holder">
                    <input type="hidden" asp-for="Category" id="categoryInput" class="form-control" placeholder="Rol">
                    <span asp-validation-for="Category" class="text-danger"></span>
                </div>

                <!-- Dietisyen Radio Button -->
                <hr />
                <div class="radio-group">
                    <input type="radio" name="userType" value="Diyetisyen" onchange="setCategory('Diyetisyen'); showModal();">
                    <label>Diyetisyen</label>
                    <span class="divider" style="margin-left: 35px; margin-right: 30px;">|</span>
                    <input type="radio" name="userType" value="Kullanıcı" onchange="setCategory('Kullanıcı')">
                    <label>Kullanıcı</label>
                </div>
                <hr />

                <script>
                    function setCategory(value) {
                        document.getElementById('categoryInput').value = value;
                        checkFormValidity(); // Form geçerliliğini kontrol et
                    }

                    function showModal() {
                        $('#myModal').modal('show');
                    }
                    function checkFormValidity() {
                        const name = document.querySelector('input[name="Name"]').value.trim();
                        const surname = document.querySelector('input[name="SurName"]').value.trim();
                        const username = document.querySelector('input[name="UserName"]').value.trim();
                        const email = document.querySelector('input[name="Email"]').value.trim();
                        const password = document.querySelector('input[name="Password"]').value.trim();
                        const confirmPassword = document.querySelector('input[name="ConfirmPassword"]').value.trim();
                        const category = document.getElementById('categoryInput').value;
                        const submitButton = document.querySelector('button[type="submit"]');

                        const isValid = name && surname && username && email && password && 
                                       confirmPassword && category && (password === confirmPassword);

                        submitButton.disabled = !isValid;
                        
                        if (!isValid) {
                            submitButton.style.opacity = '0.5';
                            submitButton.style.cursor = 'not-allowed';
                        } else {
                            submitButton.style.opacity = '1';
                            submitButton.style.cursor = 'pointer';
                        }
                    }

                    document.addEventListener('DOMContentLoaded', function() {
                        const inputs = document.querySelectorAll('input');
                        inputs.forEach(input => {
                            input.addEventListener('input', checkFormValidity);
                            input.addEventListener('change', checkFormValidity);
                        });
                        
                        checkFormValidity();
                    });
                </script>

                <button type="submit">
                    <span>Kaydol</span>
                </button>
            </form>
            <img src="~/register/images/register-two.png" alt="" class="image-2">
        </div>
    </div>

    <!--Aydınlatma Metni 'Bootstrap'-->
    <div class="container">
        <div class="row mt-5">
            <div class="col">
                <div class="modal fade" tabindex="-1" id="myModal" aria-labelledby="ExitLabel" aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
                    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel">Aydınlatma Metni</h5>
                            </div>
                            <div class="modal-body" style="text-align: left; padding: 20px;">
                                <p style="line-height: 1.6; margin-bottom: 10px; font-size: 16px;">
                                    <strong style="font-size: 18px;">Diyetisyenlik Hizmetleri İhlalleri Hakkında Bilgilendirme</strong><br><br>

                                    Sayın Diyetisyenlerimiz,<br>
                                    Bu platform, diyetisyenler ve kullanıcılar arasında sağlıklı yaşam, beslenme ve diyet danışmanlığı hizmetleri sunmak amacıyla kurulmuştur. Kullanıcıların en iyi hizmeti almasını sağlamak için diyetisyenlerimiz, sitemiz üzerinden gerçekleşen tüm iletişim ve hizmet süreçlerine uymakla yükümlüdür.
                                </p>

                                <p style="line-height: 1.6; margin-bottom: 10px; font-size: 16px;">
                                    <strong style="font-size: 18px;">Platform Dışı Hizmet Sunumu:</strong><br>
                                    Diyetisyenlerin, platformumuz dışında kullanıcılara diyet hizmetleri sunması kesinlikle yasaktır. Bu tür faaliyetler, hem kullanıcılar hem de platform için çeşitli riskler oluşturabilir ve taraflar arasında yapılan anlaşmalara aykırıdır.
                                </p>

                                <p style="line-height: 1.6; margin-bottom: 10px; font-size: 16px;">
                                    <strong style="font-size: 18px;">Yaptırımlar:</strong><br>
                                    Platformumuz dışındaki hizmetlerin tespit edilmesi halinde, ilgili diyetisyenlere aşağıdaki yaptırımlar uygulanacaktır:<br>
                                    1. Para Cezası: Platform dışı hizmet sunan diyetisyenlere belirlenen miktarda para cezası uygulanacaktır.<br>
                                    2. Hesap Askıya Alma: Platform dışında diyet hizmeti sunan diyetisyenlerin hesapları süresiz olarak askıya alınacak veya tamamen kapatılacaktır.
                                </p>

                                <p style="line-height: 1.6; margin-bottom: 10px; font-size: 16px;">
                                    Bu yaptırımlar, platformumuzun güvenilirliğini korumak ve kullanıcılarımızın güvenli bir hizmet almasını sağlamak amacıyla uygulanmaktadır. Diyetisyenlerimizin bu kurallara uymaları, platformumuzun sağlıklı bir şekilde işleyişi ve topluluğumuzun güvenliği açısından büyük önem taşımaktadır.
                                </p>

                                <p style="line-height: 1.6; font-size: 16px;">
                                    Bu konuda daha fazla bilgi almak veya sorularınızı sormak isterseniz, lütfen bizimle iletişime geçmekten çekinmeyin.<br>
                                    Teşekkür ederiz.
                                </p>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-success" id="confirmBtn">Onayla</button>
                            </div>
                        </div>
                    </div>
                </div>

                <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#myModal">
                    Aç
                </button>
            </div>
        </div>
    </div>

    <script>
        document.getElementById('confirmBtn').addEventListener('click', function () {
            $('#myModal').modal('hide');
        });
    </script>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.getElementById('confirmBtn').addEventListener('click', function () {
            $('#myModal').modal('hide');
        });
    </script>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>
    <script src="~/register/js/main.js"></script>

</body>
</html>
